<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Obfustication, stack traces and Crashlytics (1.07)</title>
  <meta name="description" content="Intro">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="objectivetruth.github.io/uoitdclibrarybooking/2014/05/18/obfustication-stack-traces-and-crashlytics-1-07.html">
  <link rel="alternate" type="application/rss+xml" title="Nothing but the Objectivetruth" href="objectivetruth.github.io/feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Nothing but the Objectivetruth</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Obfustication, stack traces and Crashlytics (1.07)</h1>
    <p class="post-meta">May 18, 2014</p>
  </header>

  <article class="post-content">
    <h2>Intro</h2>

<p>Haven&#39;t written in a little while now that the app is out and working
as &quot;mostly&quot; intended. There are a few things I want to mention though
that differs when working with a published app.</p>

<p>The pro-guard Obfuscation tool that comes with android SDK is phenomenal
but one of the default options that Google provides in the pro-guard.cfg
(config file) is to obfuscate the line numbers too. </p>

<p>This is incredibly annoying for debugging published apps because the output will always say
(unknown source) so you don&#39;t even know what file it is that the error
was located in. Essentially here is what you should add to the
pro-guard.cfg when working with it</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">-keepattributes SourceFile,LineNumberTable
</code></pre></div>
<h2>Crashlytics</h2>

<p>OMG, where have you been all my life. This tool is just incredible.
Crashlytics was bought by <strong>Twitter</strong> and is still in beta with some of its tools but gives out codes if you apply for it.</p>

<p><strong>GET IT</strong></p>

<p>http://try.crashlytics.com/</p>

<p>Not only is it super simple to use and install into your app but also allows it to grow as your app gains in popularity.</p>

<p>http://vimeo.com/92773940</p>

<p>I may have linked this before but this guy knows his stuff. His talk on crashlytics</strong> got me to try it and its every bit as good as he says.
Here is a screen shot of the interface</strong> which apart from being awesome is super useful because it gives you the most probably reason the crash occurred!</p>

<h2>Debugging for performance (Overdrawing)</h2>

<p>There&#39;s a dude I follow on you tube that has a lot of useful tutorials and recently he talked about a few debugging options found on the phone itself that have helped me do some optimization in the backed.</p>

<p><strong>GPU Overdraw</strong> is a very interesting option.</p>

<p>https://www.youtube.com/watch?v=Ar5J8tLF2mA&amp;list=PLuR1PJnGR-IjLGs6gkl-5C0_SvMK2YH8o</p>

<p>Here&#39;s the issue, when you draw a background in white (lets say) and put a picture over it, there are now 2 planes that need to be drawn.</p>

<p>Different video cards handle this issue differently, unfortunately the chip in the android phones will draw both all the time, this is called overdraw</strong> because it has to draw the white then draw another picture ontop. This taxes the processor as you can imagine. The challenge is how to avoid overdraw as much as possible. Check the video and he has a tutorial on how to do it in the developer options in your phone.</p>

<p>Here is another great post on how to go about it</p>

<p>http://www.curious-creature.org/docs/android-performance-case-study-1.html</a></p>

<h2>Color scheme index:</h2>

<p><strong>No color</strong> means there is no overdraw. The pixel was painted only once. In this example, you can see that the background is intact.</p>

<p><strong>Blue</strong> indicates an overdraw of 1x. The pixel was painted twice. Large blue areas are acceptable (if the entire window is blue, you can get rid of one layer.)</p>

<p><strong>Green</strong>&gt; indicates an overdraw of 2x. The pixel was painted three times. Medium-sized green areas are acceptable but you should try to optimize them away.</p>

<p><strong>Light red</strong> indicates an overdraw of 3x. The pixel was painted four times. Small light red areas are acceptable.</p>

<p><strong>Dark red</strong> indicates an overdraw of 4x or more. The pixel was painted 5 times or more. This is wrong. Fix it.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Nothing but the Objectivetruth</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Nothing but the Objectivetruth</li>
          <li><a href="mailto:miguel@objectivetruth.ca">miguel@objectivetruth.ca</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/Objectivetruth">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">Objectivetruth</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Musing from a mature student with a background in Sales, Biosciences and now Computer Science. Trying to save the world one app at a time.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
